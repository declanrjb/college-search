{"mappings":"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","sources":["src/script.js"],"sourcesContent":["src/acquisitions.js\n\nvar request_stem = 'http://127.0.0.1:5000'\n\nfunction loadSection(unitid, section) {\n    if (section == 'cds') {\n        loadCds(unitid)\n    } else if (section == 'news') {\n        loadNews(unitid)\n    } else {\n        var dataHolderId = '#' + section + ' .data-holder'\n\n        $(dataHolderId).empty()\n        var query = request_stem + '/' + section + '?unitid=' + unitid;\n    \n        console.log('sending ' + section)\n    \n        $.get(query, \n            function(data) {\n                $(dataHolderId).html(data['data']);\n            }\n        )\n    }\n}\n\nfunction loadCds(unitid) {\n    $('#cds-list').empty()\n\n    var query = request_stem + '/cds?unitid=' + unitid;\n\n    console.log('sending cds...')\n\n    $.get(query, \n        function(data) {\n            console.log(data['data'])\n            $('#cds-homepage').text(data['data']['homepage']).attr('href', data['data']['homepage'])\n            var candDocs = data['data']['documents']\n            for (var i=0; i<candDocs.length; i++) {\n                doc = candDocs[i]\n                $('#cds-list').append(\n                    `<li><a href=\"LINK\">NAME</a></li>`\n                    .replace('LINK', doc['link'])\n                    .replace('NAME', doc['htmlTitle'])\n                );\n            }\n\n        }\n    )\n}\n\nfunction loadBlurb(unitid) {\n    $('#blurb').empty()\n\n    var query = request_stem + '/narrative?unitid=' + unitid;\n\n    console.log('sending blurb...')\n\n    $.get(query, \n        function(data) {\n            console.log(data['data'])\n            $('#blurb').html(data['data'])\n        }\n    )\n}\n\nfunction loadNews(unitid) {\n    $('#news-list').empty()\n\n    var query = request_stem + '/news?unitid=' + unitid;\n\n    console.log('sending news...')\n\n    $.get(query, \n        function(data) {\n            console.log(data)\n            var articles = data['news_results']\n\n            for (var i=0; i<9; i++) {\n                article = articles[i]\n                console.log(article)\n\n                $('#news-list').append(\n                    `\n                    <a href=\"LINK\"><div class=\"news-article\">\n                        <img class=\"thumbnail\" src=\"IMG_SRC\">\n                        <h3 class=\"headline\">HEADLINE</h3>\n                        <p class=\"byline\"><span class=\"reporter\">REPORTER</span><i><span class=\"publication\">OUTLET</span></i></p>\n                        <hr>\n                        <p class=\"date\">PUBDATE</p>\n                    </div></a>\n                    `\n                    .replace('IMG_SRC', article['thumbnail'])\n                    .replace('HEADLINE', article['title'])\n                    .replace('OUTLET', article['source']['name'])\n                    .replace('PUBDATE', article['date'])\n                    .replace('LINK', article['link'])\n                    .replace('REPORTER', article['author'])\n                );\n            }\n\n        }\n    )\n}\n\n$(function() {\n\n    const data = [\n        { year: 2010, count: 10 },\n        { year: 2011, count: 20 },\n        { year: 2012, count: 15 },\n        { year: 2013, count: 25 },\n        { year: 2014, count: 22 },\n        { year: 2015, count: 30 },\n        { year: 2016, count: 28 },\n      ];\n    \n      new Chart(\n        document.getElementById('acquisitions'),\n        {\n          type: 'bar',\n          data: {\n            labels: data.map(row => row.year),\n            datasets: [\n              {\n                label: 'Acquisitions by year',\n                data: data.map(row => row.count)\n              }\n            ]\n          }\n        }\n      );\n\n    var unitid;\n\n    /* set open and close states initially */\n    $('.subsection[open=\"false\"] .data-holder').css('display', 'none')\n    $('.subsection[open=\"false\"] #subsec-arrow').attr('class', 'fa-solid fa-caret-right')\n\n    $('.subsection[open=\"true\"] .data-holder').css('display', 'block')\n    $('.subsection[open=\"true\"] #subsec-arrow').attr('class', 'fa-solid fa-caret-down')\n\n    /* set up open and close click function */\n    $('.subsection-header').on('click', function(e) {\n        if (e.currentTarget.parentElement.getAttribute('open') == 'false') {\n            $(e.currentTarget.parentElement).children('.data-holder').css('display', 'block')\n            e.currentTarget.parentElement.setAttribute('open', 'true')\n            $(e.currentTarget).children('.subsection-title').children('#subsec-arrow').attr('class', 'fa-solid fa-caret-down')\n\n            loadSection(unitid, e.currentTarget.parentElement.getAttribute('id'))\n        } else {\n            $(e.currentTarget.parentElement).children('.data-holder').css('display', 'none')\n            e.currentTarget.parentElement.setAttribute('open', 'false')\n            $(e.currentTarget).children('.subsection-title').children('#subsec-arrow').attr('class', 'fa-solid fa-caret-right')\n        }\n    })\n\n    $('.search-button').on('click', function() {\n\n        /* clear the previous completions */\n        $('.completions-holder').empty();\n\n        var query = request_stem + '/search?q=' + $('.college-search-input').val();\n\n        console.log('sending...')\n\n        $.getJSON(query, \n            function(data) {\n                console.log(data)\n                var results = data['completions']\n\n                for (var i=0; i<results.length; i++) {\n                    $('.completions-holder').append(\n                        `\n                        <div class=\"completion\" unitid=\"UNITID\">\n                            NAME (STABBR)\n                        </div>\n                        `.replace('NAME', results[i]['INSTNM'])\n                        .replace('STABBR', results[i]['STABBR'])\n                        .replace('UNITID', results[i]['UNITID'])\n                    )\n                }\n\n                $('.completion').on('click', function(e) {\n                    unitid = e.currentTarget.getAttribute('unitid');\n                    $('.college-search-input').val(e.currentTarget.textContent.trim());\n                    $('.completions-holder').empty();\n                    //loadNews(unitid)\n                    loadBlurb(unitid)\n                })\n            }\n        )\n\n    })\n})"],"names":[],"version":3,"file":"college-search.44983732.js.map","sourceRoot":"/__parcel_source_root/"}